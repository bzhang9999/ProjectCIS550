{"ast":null,"code":"var _jsxFileName = \"/Users/bzhang99/Desktop/upenn/2020fall/CIS450/gabrielleVersion2/CIS450-550-Final-Project/hw2/client/src/components/BestGenres.js\";\nimport React from 'react';\nimport PageNavbar from './PageNavbar';\nimport BestGenreRow from './BestGenreRow';\nimport '../style/BestGenres.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nexport default class BestGenre extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      country1: \"\",\n      country2: \"\",\n      selectedDecade: \"\",\n      decades: [],\n      genres: []\n    };\n    this.submitDecade = this.submitDecade.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n  }\n  /* ---- Q3a (Best Genres) ---- */\n\n\n  componentDidMount() {\n    console.log(\"country drop downs\"); // Send an HTTP request to the server.\n\n    fetch(\"http://localhost:8081/decades\", {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => res.json()) // Convert the response data to a JSON.\n    .then(decadesList => {\n      if (!decadesList) return; // Map each genreObj in genreList to an HTML element:\n      // A button which triggers the showMovies function for each genre.\n      //console.log(\"hello\");\n      //let h = 'hello';\n      //the field name should be the column name\n\n      let decadesDivs = decadesList.map((decObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        value: decObj.country_name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 12\n        }\n      }, decObj.country_name)); // Set the state of the genres list to the value returned by the HTTP response from the server.\n\n      this.setState({\n        decades: decadesDivs\n      });\n    }).catch(err => console.log(err)); // Print the error if there is one.\n  }\n\n  handleChange(e) {\n    this.setState({\n      country1: e.target.value\n    });\n  }\n\n  handleChange2(e) {\n    this.setState({\n      country2: e.target.value\n    });\n  }\n  /* ---- Q3b (Best Genres) ---- */\n\n\n  submitDecade() {\n    let year = this.state.selectedDecade;\n    let country1 = this.state.country1;\n    let country2 = this.state.country2;\n    console.log(country1);\n    console.log(country2);\n    let route = \"http://localhost:8081/bestgenres/\" + country1 + \"/\" + country2;\n    console.log(route);\n    fetch(route, {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => res.json()) // Convert the response data to a JSON.\n    .then(genreAvgList => {\n      if (!genreAvgList) return; // Map each genreObj in genreList to an HTML element:\n      // A button which triggers the showMovies function for each genre.\n      //console.log(\"hello\");\n      //let h = 'hello';\n\n      console.log(genreAvgList);\n      let bestRowDivs = genreAvgList.map((bestObj, i) => /*#__PURE__*/React.createElement(BestGenreRow, {\n        genre: bestObj.peace_conflict_score,\n        rating: bestObj.num_conflicts,\n        votes: bestObj.num_treatises,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      })); // Set the state of the genres list to the value returned by the HTTP response from the server.\n\n      this.setState({\n        genres: bestRowDivs\n      });\n    }).catch(err => console.log(err)); // Print the error if there is one.\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Country Relationships\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(PageNavbar, {\n      active: \"bestgenres\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container bestgenres-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \" Statistical Relationship Page\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 12\n      }\n    }, \"The peace and conflict score (0 meaning that the two countries are at complete peace and 100 meaning that the two countries are in complete conflict) is calculated using the following method. We calculate the peace score by weighing the different types of treaties based on the degree of peacefulness: 0.4 for defense, 0.3 for neutrality, 0.3 for nonaggression, and 0.1 for entente (based on dataset description  \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://correlatesofwar.org/data-sets/formal-alliances/formal-alliances-v4-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 79\n      }\n    }, \"here\"), \"). We also factor in multiple labels per treatise, which indicates that more treatise leads to a stronger alliance. To calculate the conflict score, we weigh the number of deaths over the total population of the country for each war that the two countries have been involved in, take the average of the ratios, and multiply that value by 1000 to get a value that ranges from 0 to around 67. Finally, add the peace score and the conflict score for a value between 0 and 100. To begin, please select two countries below.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"years-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.country1,\n      onChange: this.handleChange,\n      className: \"dropdown\",\n      id: \"decadesDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      select: true,\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, \" -- select an option -- \"), this.state.decades)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.country2,\n      onChange: this.handleChange2,\n      className: \"dropdown2\",\n      id: \"decadesDropdown2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      select: true,\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, \" -- select an option -- \"), this.state.decades), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-btn\",\n      id: \"decadesSubmitBtn\",\n      onClick: this.submitDecade,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 16\n      }\n    }, \"Submit\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movies-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 40\n      }\n    }, \"Conflict Score\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 40\n      }\n    }, \"Num Conflicts\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 40\n      }\n    }, \"Num Treaties\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movies-container\",\n      id: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 14\n      }\n    }, this.state.genres)))));\n  }\n\n}","map":{"version":3,"sources":["/Users/bzhang99/Desktop/upenn/2020fall/CIS450/gabrielleVersion2/CIS450-550-Final-Project/hw2/client/src/components/BestGenres.js"],"names":["React","PageNavbar","BestGenreRow","BestGenre","Component","constructor","props","state","country1","country2","selectedDecade","decades","genres","submitDecade","bind","handleChange","handleChange2","componentDidMount","console","log","fetch","method","then","res","json","decadesList","decadesDivs","map","decObj","i","country_name","setState","catch","err","e","target","value","year","route","genreAvgList","bestRowDivs","bestObj","peace_conflict_score","num_conflicts","num_treatises","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PageNavbar from './PageNavbar';\nimport BestGenreRow from './BestGenreRow';\nimport '../style/BestGenres.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default class BestGenre extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcountry1: \"\",\n\t\t\tcountry2: \"\",\n\t\t\tselectedDecade: \"\",\n\t\t\tdecades: [],\n\t\t\tgenres: []\n\t\t};\n\n\t\tthis.submitDecade = this.submitDecade.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleChange2 = this.handleChange2.bind(this);\n\t}\n\n\t/* ---- Q3a (Best Genres) ---- */\n\tcomponentDidMount() {\n\n\t\tconsole.log(\"country drop downs\");\n\n\t\t// Send an HTTP request to the server.\n\t    fetch(\"http://localhost:8081/decades\", {\n\t      method: 'GET' // The type of HTTP request.\n\t    })\n\t      .then(res => res.json()) // Convert the response data to a JSON.\n\t      .then(decadesList => {\n\t        if (!decadesList) return;\n\t        // Map each genreObj in genreList to an HTML element:\n\t        // A button which triggers the showMovies function for each genre.\n\t        //console.log(\"hello\");\n\t        //let h = 'hello';\n\n\t        //the field name should be the column name\n\t        let decadesDivs = decadesList.map((decObj, i) =>\n\t          <option value ={decObj.country_name}>{decObj.country_name}</option>\n\t        );\n\n\t        // Set the state of the genres list to the value returned by the HTTP response from the server.\n\t        this.setState({\n\t          decades: decadesDivs\n\t        })\n\t      })\n\t      .catch(err => console.log(err))\t// Print the error if there is one.\n\n\n\t\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({\n\t\t\tcountry1: e.target.value\n\t\t});\n\t}\n\n\thandleChange2(e) {\n\t\tthis.setState({\n\t\t\tcountry2: e.target.value\n\t\t});\n\t}\n\n\t/* ---- Q3b (Best Genres) ---- */\n\tsubmitDecade() {\n\n\t\tlet year = this.state.selectedDecade;\n\t\tlet country1 = this.state.country1;\n\t\tlet country2 = this.state.country2;\n\t\tconsole.log(country1);\n\t\tconsole.log(country2);\n\t\tlet route = \"http://localhost:8081/bestgenres/\" + country1 + \"/\" + country2;\n\t\tconsole.log(route);\n\n\t\tfetch(route, {\n\t      method: 'GET' // The type of HTTP request.\n\t    })\n\t      .then(res => res.json()) // Convert the response data to a JSON.\n\t      .then(genreAvgList => {\n\t        if (!genreAvgList) return;\n\t        // Map each genreObj in genreList to an HTML element:\n\t        // A button which triggers the showMovies function for each genre.\n\t        //console.log(\"hello\");\n\t        //let h = 'hello';\n\t        console.log(genreAvgList);\n\t        let bestRowDivs = genreAvgList.map((bestObj, i) =>\n\t        \t<BestGenreRow genre={bestObj.peace_conflict_score} rating={bestObj.num_conflicts} votes={bestObj.num_treatises}/>\n\t        );\n\n\t        // Set the state of the genres list to the value returned by the HTTP response from the server.\n\t        this.setState({\n\t          genres: bestRowDivs\n\t        })\n\t      })\n\t      .catch(err => console.log(err))\t// Print the error if there is one.\n\n\t\t\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className=\"Country Relationships\">\n\t\t\t\t<PageNavbar active=\"bestgenres\" />\n\n\t\t\t\t<div className=\"container bestgenres-container\">\n\t\t\t      <div className=\"jumbotron\">\n\t\t\t      \t<div className=\"h3\"> Statistical Relationship Page</div>\n\t\t\t        <div className=\"h7\">The peace and conflict score (0 meaning that the two countries are at complete peace and 100 meaning \n\t\t\t        that the two countries are in complete conflict) is calculated using the following method. We calculate the peace score by \n\t\t\t        weighing the different types of treaties based on the degree of peacefulness: 0.4 for defense, 0.3 for neutrality, 0.3 for\n\t\t\t         nonaggression, and 0.1 for entente (based on dataset description  <a href=\"https://correlatesofwar.org/data-sets/formal-alliances/formal-alliances-v4-1\">here</a> \n\t\t\t         ). We also factor in multiple labels per treatise, which indicates that more treatise leads to a stronger alliance. To calculate the conflict score, we weigh the number \n\t\t\t         of deaths over the total population of the country for each war that the two countries have been involved in, take the average of the ratios, and multiply that value by\n\t\t\t          1000 to get a value that ranges from 0 to around 67. Finally, add the peace score and the conflict score for a value between 0 and 100. To begin,\n\t\t\t          please select two countries below.\n\n\n\n\t\t\t\t\t</div>\n\n\n\n\n\t\t\t        \n\n\t\t\t        <div className=\"years-container\">\n\t\t\t          <div className=\"dropdown-container\">\n\t\t\t            <select value={this.state.country1} onChange={this.handleChange} className=\"dropdown\" id=\"decadesDropdown\">\n\t\t\t            \t<option select value> -- select an option -- </option>\n\t\t\t            \t{this.state.decades}\n\t\t\t            </select>\n\t\t\t          </div>\n\t\t\t          <div className=\"dropdown-container2\">\n\t\t\t            <select value={this.state.country2} onChange={this.handleChange2} className=\"dropdown2\" id=\"decadesDropdown2\">\n\t\t\t            \t<option select value> -- select an option -- </option>\n\t\t\t            \t{this.state.decades}\n\t\t\t            </select>\n\t\t\t            <button className=\"submit-btn\" id=\"decadesSubmitBtn\" onClick={this.submitDecade}>Submit</button>\n\t\t\t          </div>\n\t\t\t        </div>\n\n\t\t\t      </div>\n\t\t\t      <div className=\"jumbotron\">\n\t\t\t        <div className=\"movies-container\">\n\t\t\t          <div className=\"movie\">\n\t\t\t            <div className=\"header\"><strong>Conflict Score</strong></div>\n\t\t\t            <div className=\"header\"><strong>Num Conflicts</strong></div>\n\t\t\t            <div className=\"header\"><strong>Num Treaties</strong></div>\n\t\t\t          </div>\n\t\t\t          <div className=\"movies-container\" id=\"results\">\n\t\t\t            {this.state.genres}\n\t\t\t          </div>\n\t\t\t        </div>\n\t\t\t      </div>\n\t\t\t    </div>\n\t\t\t</div>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}